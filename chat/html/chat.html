<!DOCTYPE html>
<html lang="en-US">

<head>
    <link rel="icon" href="https://www.moosen.im/favicon.ico">
    <meta charset="utf-8">
    <title>Moosen Chat</title>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-112336897-1"></script>
    <script>
        window.dataLayer = window.dataLayer || []

        function gtag() {
            dataLayer.push(arguments)
        }
        gtag('js', new Date())
        gtag('config', 'UA-112336897-1')
    </script>

    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <!-- JQuery loaded first -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
    <script src="../siofu/client.js"></script>
    <script src="../js/autosize.js"></script>
    <script src="../js/moment.js"></script>

    <!-- MATERIALIZE CSS AND JS FOR RESPONSIVE IMAGES -->
    <link rel="stylesheet" type="text/css" href="../css/materialbox.css">
    <script src="../js/materialbox.js"></script>
    <script src="../js/velocity.min.js"></script>

    <source id="ogg_src" src="../sounds/notification.mp3" type="video/ogg">

    <!-- Material Design for Bootstrap fonts and icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons">
    <!-- Material Design for Bootstrap CSS -->
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-material-design@4.0.0-beta.4/dist/css/bootstrap-material-design.min.css"
        integrity="sha384-R80DC0KVBO4GSTw+wZ5x2zn2pu4POSErBkf8/fSFhPXHxvHJydT0CSgAP2Yo2r4I" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../css/chat.css">

    <!--Import Google Font-->
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg">
        <a class="btn mm-navbtn" data-toggle="drawer" data-target="#dw-s1">
            <i class="material-icons">menu</i>
        </a>
        <a class="navbar-brand" id="title" href="#">m.im</a>


        <div class="dropdown mm-navdd">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                <i class="material-icons">settings</i>
            </button>
            <div class="dropdown-menu mm-navdd-items" aria-labelledby="dropdownMenuButton">
                <div class="nav-item">
                    <a class="nav-link" data-toggle="modal" data-target="#add-modal">Add To Current Room</a>
                </div>
                <div class="nav-item">
                    <a class="nav-link" data-toggle="modal" data-target="#modal2">Create New Room</a>
                </div>
                <div class="nav-item">
                    <a class="nav-link" data-toggle="modal" data-target="#joincode-modal">Enter a Join Code</a>
                </div>
                <div class="nav-item">
                    <a class="nav-link" data-toggle="modal" data-target="#welcome-modal">Help</a>
                </div>
                <div class="nav-item">
                    <a class="nav-link" data-toggle="modal" data-target="#regex-modal" id="room-commands">Add Chat Changers</a>
                </div>
                <div class="nav-item">
                    <a class="nav-link" data-toggle="modal" data-target="#showcoms-modal" id="room-commands">Remove Chat Changers</a>
                </div>
                <div class="nav-item">
                    <a class="nav-link" data-toggle="modal" data-target="#color-modal" id="room-custom">Room Customization</a>
                </div>

            </div>
        </div>

        <div class="dropdown mm-navdd">
            <button class="btn btn-secondary dropdown-toggle" style="margin-left:0px" type="button" id="dropdownMenuButton" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                <i class="material-icons">account_circle</i>
            </button>
            <div class="dropdown-menu mm-navdd-items" aria-labelledby="dropdownMenuButton">
                <div class="nav-item">
                    <a class="nav-link" data-toggle="modal" data-target="#modal-profile" id="profile-button">Edit Profile</a>
                </div>
            </div>
        </div>
        <a class="btn mm-navbtn" data-toggle="drawer" data-target="#dw-s2">
            <i class="material-icons">menu</i>
        </a>
    </nav>
    <div class="bmd-layout-container bmd-drawer-f-l bmd-drawer-overlay main">
        <div id="dw-s1" class="bmd-layout-drawer bg-faded mm-side">
            <ul class="nav flex-column" id="mm-side-list">
            </ul>
        </div>
        <main class="bmd-layout-content" id="maindiv">
            <div class="row">
                <div class="col">
                    <ul class="mm-collection" id="messages">
                    </ul>
                </div>
            </div>
            <div class="row">
                <form class="mm-form" autocomplete="off">
                    <div class="input-group">
                        <textarea type="text" id="send-message" class="form-control" placeholder="Message" name="message"></textarea>
                        <div class="input-group-btn">
                            <label name="files[]" id="add_pics" class="btn">
                                <i class="material-icons" style="margin-left:-0.7rem">add</i>
                                <input style="display: none" type="file" multiple>
                            </label>
                            <button type="submit" class="btn mm-submit">
                                <i class="material-icons">send</i>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </main>
    </div>
    <div class="bmd-layout-container bmd-drawer-f-r bmd-drawer-overlay main">
        <div id="dw-s2" class="bmd-layout-drawer bg-faded mm-side">
            <ul class="nav flex-column" id="mm-side-list-2">
            </ul>
        </div>
    </div>
    <!-- Modal list -->
    <div class="modal fade" id="welcome-modal" tabindex="-1" role="dialog" aria-labelledby="welcome-modal-label" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="welcome-modal-label">Welcome to Moosen IM</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Moosen IM is a instant messaging application made by a couple of friends who want more out of their messaging
                        apps.
                        <br>
                        <br>To get started, click on 'Create Room' and give it a catchy name. Then, use 'Add to Room...' to invite
                        other users to your room. Alternatively, You can use the join code.
                        <br>
                        <br>For any feature requests, reporting a bug, or want to talk to the devs, please click on the "Report
                        bug/Request feature" room.
                        <br>
                        <br>DISCLAIMER: This is an MVP product, and is not finished, nor does it have all features we hope to
                        offer.
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="btn" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal add user -->
    <div class="modal fade" id="add-modal" tabindex="-1" role="dialog" aria-labelledby="add-modal-label" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="add-modal-label">Add to Room</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Enter the email of the person you wish to invite</p>
                    <form id="email" action="">
                        <input class="form-control" type="text" id="e" placeholder="email">
                        <button class="btn waves-effect waves-light modal-close light-blue white-text"> Add to Room </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal room color settings -->
    <div class="modal fade" id="color-modal" tabindex="-1" role="dialog" aria-labelledby="add-modal-label" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="add-modal-label">Room Customization</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Change room color settings</p>
                    <form id="room-color" action="">
                        Primary Background Color:
                        <input type="color" class="form-control color-form" id="back-color1"> Secondary Background Color:
                        <input type="color" class="form-control color-form" id="back-color2"> Text Color:
                        <input type="color" class="form-control color-form" id="text-color"> Transparent Message Background?:
                        <input type="checkbox" class="form-control" id="msg-trans"> Primary Message Background Color:
                        <input type="color" class="form-control color-form" id="msg-color1"> Secondary Message Background Color:
                        <input type="color" class="form-control color-form" id="msg-color2">
                        <br />
                        <button class="btn btn-primary waves-effect waves-light modal-close light-blue white-text"> Set Colors </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal use join code -->
    <div class="modal fade" id="joincode-modal" tabindex="-1" role="dialog" aria-labelledby="add-modal-label" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="add-modal-label">Enter Join Code</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Paste in a join code to join a friend's room</p>
                    This room's join code is:
                    <p id="jc-room">
                        join code
                    </p>
                    <form id="jc-form" action="">
                        <input class="form-control" type="text" id="jc" placeholder="Enter a join code">
                        <button class="btn waves-effect waves-light modal-close light-blue white-text"> Enter </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal show commands -->
    <div class="modal fade" id="showcoms-modal" tabindex="-1" role="dialog" aria-labelledby="add-modal-label" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="add-modal-label">Chat Changers</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <ul id="cc-list" style="list-style-type: none;">

                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal create room -->
    <div class="modal fade" id="modal2" tabindex="-1" role="dialog" aria-labelledby="add-modal-label" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="add-modal-label">Create New Room</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Enter a Room Name</p>
                    <form id="roomname" action="">
                        <input class="form-control" type="text" id="rn" placeholder="room name">
                        <button class="btn waves-effect waves-light modal-close light-blue white-text"> Create Room </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal User Profile -->
    <div class="modal fade" id="modal-profile" tabindex="-1" role="dialog" aria-labelledby="add-modal-label" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="add-modal-label">Create New Room</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Profile</p>
                    <form id="profile-form" action="">
                        Enter a nick-name
                        <br>
                        <input class="form-control" type="text" id="nick-name" placeholder="nickname">
                        <br> Profile picture URL
                        <br>
                        <input class="form-control" type="text" id="img-url" placeholder="url">
                        <br>

                        <button class="btn waves-effect waves-light modal-close light-blue white-text"> Update Profile </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal create room -->
    <div class="modal fade" id="regex-modal" tabindex="-1" role="dialog" aria-labelledby="add-modal-label" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="add-modal-label">Add a Chat Changer</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Enter a new Command</p>
                    <form id="newcommand-form" action="">

                        <input class="form-control" type="text" id="nc-cmd" placeholder="Word to replace or respond to">
                        <input type="checkbox" class="form-control" id="nc-regex" style="display:inline; width:auto;">
                        <p style="display:inline">Use Regex (Advanced)</p>
                        <select class="form-control" name="nc-actn" id="nc-actn">
                            <option value="Replace">Replace this word</option>
                            <option value="ReplaceWhole">Replace the whole message</option>
                            <option value="Respond">Respond to the message</option>
                        </select>
                        <input class="form-control" type="text" id="nc-msg" placeholder="message">
                        <input class="form-control" type="text" id="nc-username" placeholder="username" disabled>
                        <input class="form-control" type="text" id="nc-pic" placeholder="picture" disabled>
                        <button class="btn waves-effect waves-light modal-close light-blue white-text"> Add Rule </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div id="modal2" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="add-modal-label">
                    <h4>Create new Room</h4>
                    <div class="modal-body">

                    </div>
            </div>
        </div>
    </div>
    <script src='../js/chat.js'></script>
</body>

</html>
